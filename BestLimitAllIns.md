---
title: سفارش‌های خرید و فروش (5 مظنه برتر)
layout: default
parent: برترین ها
---

# سفارش‌های خرید و فروش (5 مظنه برتر) 🧾📈

## 📌 آدرس سرویس

```
POST /BestLimit/BestLimitsAllIns
Host: {BaseUrl}
Authorization: Bearer {token}
Content-Type: application/json
```

مثال:
```
POST http://service.tsetmc.com/BestLimit/BestLimitsAllIns
```

## 🧾 نام سرویس

`BestLimitsAllIns`

---

## 🎯 توضیحات

سرویس `BestLimitsAllIns` تقاضاهای برتر خرید و فروش *همه نمادها* را ارائه می‌کند؛ هر نماد تا 5 مظنه (ردیف) را دارد. این مستند، ورودی را به‌صورت JSON و خروجی را در قالب JSON RESTful توصیف می‌کند.

## درخواست

پارامترهای ورودی در قالب JSON ارسال می‌گردد.

### 📥 پارامترهای ورودی

Body (JSON):

| نام پارامتر | توضیح |
|------------|-------|
| Flow        | int | کد بازار |

#### مقادیر ممکن برای `Flow`

| توضیح | مقدار |
|-------|-------|
| `1`  | بورس |
| `2`  | فرابورس |
| `3` |  مشتقه ( بو رس و فرابورس) |
| `31` |  مشتقه بورس |
| `32` |  مشتقه فرابورس |
| `6` |  انرژی سلف برق |
| `61` |  انرژی مشتقه |
| `62` |  انرژی غیر سلف برق |
| `7` | کالا |
| `5` | پایه فرابورس |

## پاسخ

پاسخ در قالب JSON برمی‌گردد.

### 📤 ساختار خروجی:

| فیلد | توضیحات |
|------|---------|
| `number` | ردیف - برای هر نماد تا 5 مظنه برتر نمایش داده می‌شود که این عدد معرف شماره ردیف مظنه است. |
| `InsCode` | کد داخلی یکتا برای هر نماد |
| `QTitMeDem` | حجم تقاضا |
| `ZOrdMeDem` | تعداد تقاضا |
| `PMeDem` | قیمت تقاضا |
| `PMeOf` | قیمت عرضه |
| `ZOrdMeOf` | تعداد عرضه |
| `QTitMeOf` | حجم عرضه |
| `Heven` | زمان ثبت مظنه (HH:MM:SS) |

---

## 📦 نمونه ورودی 

```json
{
  "Flow": 1
}
```

## 📄 نمونه خروجی

```json
{
  "IsSuccess": true,
  "Data": [
    {
      "InsCode": "123456789",
      "CGrValCot": "01",
      "InstrumentID": "IRB123456789",
      "CValMne": "ABCD1",
      "LVal18": "SOME-LATIN-NAME",
      "CSocCSAC": "COMP1",
      "LSoc30": "شرکت نمونه",
      "LVal18AFC": "نماد نمونه",
      "LVal30": "نماد نمونه بازار",
      "CIsin": "IRO123456789"
    }
  ],
  "Msg": null
}
```

---

## نکات تکمیلی
- حتماً باید در هدر درخواست، **توکن JWT معتبر** ارسال شود.

## خطاهای محتمل

| کد وضعیت HTTP | توضیح |
|---------------|-------|
| 401 | عدم احراز هویت یا توکن نامعتبر |
| 400 | داده ورودی نامعتبر |
| 500 | خطای داخلی سرور |

### کد نمونه پاسخ برای خطاها
- `400 Bad Request` - پارامترهای ورودی ناقص یا نامعتبر  
- `401 Unauthorized` - خطای احراز هویت  
- `500 Internal Server Error` - خطای سرور

```json
{
  "status": "error",
  "message": "Invalid username or password",
  "code": 401
}
```

---