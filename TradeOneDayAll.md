---
title: کلیه معاملات در یک روز
layout: default
parent: معاملات
---

# کلیه معاملات در یک روز

## 📌 آدرس سرویس

```
POST http://{BaseUrl}/Trade/TradeOneDayAll
```

مثال:

```bash
curl --location 'https://{BaseUrl}/Trade/TradeOneDayAll' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer {token}' \
--data '{
  "Flow": 1,
  "Deven": 2025101
}'
```  

## 🧾 نام سرویس

`TradeOneDayAll`

---

## 🎯 توضیحات

این سرویس اطلاعات معاملات روزانه را بر اساس تاریخ و کد بازار (Flow) برای همه ی نمادها ارائه می‌کند.  
دسترسی به این سرویس نیازمند احراز هویت و داشتن نقش `TradeOneDayAll` است.

---

## درخواست

پارامترهای ورودی در قالب JSON ارسال می‌گردد.

### 📥 پارامترهای ورودی

Body (JSON):

| نام فیلد  | نوع داده  | توضیحات |
|-----------|-----------|---------|
| `Deven`   | int | تاریخ پایان به فرمت `YYYYMMDD`|
| `Flow`    | int | کد بازار |

#### مقادیر ممکن برای `Flow`

| توضیح | مقدار |
|-------|-------|
| `1`  | بورس |
| `2`  | فرابورس |
| `3` |  مشتقه ( بو رس و فرابورس) |
| `31` |  مشتقه بورس |
| `32` |  مشتقه فرابورس |
| `6` |  انرژی سلف برق |
| `61` |  انرژی مشتقه |
| `62` |  انرژی غیر سلف برق |
| `7` | کالا |
| `5` | پایه فرابورس |

## پاسخ

پاسخ در قالب JSON برمی‌گردد.

### 📤 ساختار خروجی:

| فیلد | توضیحات |
| ------ | --------- |
| `LVal18AFC` | نماد |
| `DEven` | تاریخ |
| `ZTotTran` | تعداد معاملات |
| `QTotTran5J` | حجم (تعداد سهام معامله شده) |
| `QTotCap` | ارزش معاملات |
| `InsCode` | کد نماد |
| `LVal30` | توضیح |
| `PClosing` | قیمت پایانی |
| `PDrCotVal` | آخرین قیمت معامله شده |
| `PriceChange` | تغییر قیمت |
| `PriceMin` | حداقل قیمت |
| `PriceMax` | حداکثر قیمت |
| `PriceFirst` | قیمت اولین معامله |
| `PriceYesterday` | قیمت دیروز |
| `Last` | آخرین رکورد بودن |
| `HEven` | زمان |

---

## 📦 نمونه ورودی 

```json
{
  "Deven": 20240509,
  "Flow": 1
}
```

## 📄 نمونه خروجی

```json
{
  "IsSuccess": true,
  "Data":
    [
      {
        "LVal18AFC": "خودرو",
        "DEven": 20240101,
        "ZTotTran": 120,
        "QTotTran5J": 350000,
        "QTotCap": 500000000,
        "InsCode": 1234567890,
        "LVal30": "ایران خودرو",
        "PClosing": 1500,
        "PDrCotVal": 1520,
        "PriceChange": "+20",
        "PriceMin": 1480,
        "PriceMax": 1530,
        "PriceFirst": 1500,
        "PriceYesterday": 1480,
        "Last": 0,
        "HEven": 112530
      }
    ],
  "Msg": null
}
```

---

## ✍️ نکات امنیتی
- حتماً باید در هدر درخواست، **توکن JWT معتبر** ارسال شود.
- فقط کاربرانی که نقش `TradeOneDayAll` دارند می‌توانند این سرویس را فراخوانی کنند.
- محدودیت دسترسی بر اساس [CheckCredit] اعمال می‌شود.
- مقادیر `Flow` عددی هستند و نقش تعیین بازار هدف را دارند.
- خروجی با ساختار `DataSet` است و ممکن است شامل چندین رکورد `TradeLastDay` باشد.

---
