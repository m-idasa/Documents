# InstrumentsState - وضعیت نمادها

## 📌 آدرس سرویس

  - `http://service.tsetmc.com/Instrument/InstrumentState`  

## 🧾 نام سرویس

`InstrumentsState`

## 🎯 توضیحات

اطلاعات وضعیت نمادها را ارائه می‌کند.  
در صورتی که نمادی در این متد وجود نداشته باشد به معنی **باز بودن نماد** است.

## درخواست

پارامترهای ورودی در قالب JSON ارسال می‌گردد.

### 📥 پارامترهای ورودی

Body (JSON):

| نام پارامتر | توضیح |
|------------|-------|
| `Flow` | کد بازار:<br> `1`: بورس<br>`2`: فرابورس<br>`3`: آتی<br>`4`: پایه فرابورس<br>`5`: پایه فرابورس (منتشر نمی‌شود) |

## پاسخ

پاسخ در قالب JSON برمی‌گردد.

### 📤 ساختار خروجی:

| فیلد | توضیح |
|------|-------|
| `InsCode` | کد داخلی نماد |
| `LVal18AFC` | کد 18 رقمی فارسی نماد |
| `LVal30` | نام 30 رقمی فارسی نماد |
| `LBoard` | نام تابلو |
| `StateTypeDesc` | دلیل توقف |
| `HEven` | ساعت |
| `CEtaVal` | وضعیت نماد |

### مقادیر ممکن برای `CEtaVal`

| توضیح | مقدار |
|-------|-------|
| `I`  | ممنوع |
| `A`  | مجاز |
| `AG` | مجاز-مسدود |
| `AS` | مجاز-متوقف |
| `AR` | مجاز-محفوظ |
| `IG` | ممنوع-مسدود |
| `IS` | ممنوع-متوقف |
| `IR` | ممنوع-محفوظ |

## 📦 نمونه ورودی 

```json
{
  "Flow": 1
}
```

## 📄 نمونه خروجی

```json
{
  "IsSuccess": true,
  "Data": [
    {
      "inscode": 1234567890,
      "LVal18AFC": "نام فارسی",
      "LVal30": "نام بلند",
      "LBoard": "تابلو اصلی",
      "StateTypeDesc": "مجاز",
      "CEtaVal": "I"
    }
  ],
  "Msg": null
}
```

## نکات امنیتی

- حتماً باید در هدر درخواست، **توکن JWT معتبر** ارسال شود.

---

## خطاهای محتمل

| کد وضعیت HTTP | توضیح |
|---------------|-------|
| 401 | عدم احراز هویت یا توکن نامعتبر |
| 400 | داده ورودی نامعتبر |
| 500 | خطای داخلی سرور |

---